(()=>{var e={};e.id=173,e.ids=[173],e.modules={440:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(1658);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1032:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2614).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},1768:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=a(5239),r=a(8088),n=a(8170),i=a.n(n),l=a(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d={children:["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3555)),"/Users/khelawan_verma/Desktop/gensler-projects/Hackathon-Khelawan/frontend/src/app/notifications/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,4431)),"/Users/khelawan_verma/Desktop/gensler-projects/Hackathon-Khelawan/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/khelawan_verma/Desktop/gensler-projects/Hackathon-Khelawan/frontend/src/app/notifications/page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3434:(e,t,a)=>{Promise.resolve().then(a.bind(a,5037))},3555:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/khelawan_verma/Desktop/gensler-projects/Hackathon-Khelawan/frontend/src/app/notifications/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/khelawan_verma/Desktop/gensler-projects/Hackathon-Khelawan/frontend/src/app/notifications/page.tsx","default")},3873:e=>{"use strict";e.exports=require("path")},4493:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>p});var s=a(687),r=a(3210),n=a(4780);let i=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let p=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},5037:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(687),r=a(4493),n=a(9523),i=a(5726),l=a(4855),o=a(1475),d=a(1032),c=a(6910),p=a(4181),m=a(7368),x=a(8450),u=a(8369),h=a(3210),f=a(6754),v=a(4780);function g(){let{user:e,token:t}=(0,l.Z)(),{refreshCount:a}=(0,o.C)(t),[g,j]=(0,h.useState)([]),[y,w]=(0,h.useState)(!0),[N,b]=(0,h.useState)(!1),[k,A]=(0,h.useState)(!1),[_,C]=(0,h.useState)(null),P=async()=>{if(t)try{C(null);let e=await (0,f.bb)(t);j(e)}catch(e){console.error("Failed to fetch notifications:",e),C("Failed to load notifications")}finally{w(!1),A(!1)}},R=async()=>{if(t&&!N)try{b(!0),await (0,f.he)(t),j(e=>e.map(e=>({...e,read:!0}))),a()}catch(e){console.error("Failed to mark all notifications as read:",e)}finally{b(!1)}},M=async e=>{if(t)try{await (0,f.bA)(e,t),j(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),a()}catch(e){console.error("Failed to mark notification as read:",e)}},q=async()=>{t&&!k&&(A(!0),await P())},E=e=>{switch(e){case"follow":return d.A;case"new_post":return c.A;default:return p.A}},$=e=>{let t=e.actor.displayName||"Someone";switch(e.type){case"follow":return`${t} started following you`;case"new_post":let a=e.post?(0,v.E)(e.post.text,50):"something new";return`${t} posted: "${a}"`;default:return"New notification"}};return e?_?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(r.Zp,{className:"max-w-2xl mx-auto",children:(0,s.jsxs)(r.Wu,{className:"text-center p-8",children:[(0,s.jsx)("p",{className:"text-destructive mb-4",children:_}),(0,s.jsxs)(n.$,{onClick:q,variant:"outline",disabled:k,children:[(0,s.jsx)(m.A,{className:`h-4 w-4 mr-2 ${k?"animate-spin":""}`}),k?"Retrying...":"Retry"]})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,s.jsx)("div",{className:"gradient-card rounded-2xl p-8 shadow-xl",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Notifications"}),(0,s.jsx)("p",{className:"text-slate-600 mt-2",children:"Stay up to date with your activity"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(n.$,{onClick:q,variant:"ghost",size:"sm",disabled:y||k,className:"hover:bg-gradient-to-r hover:from-blue-500/20 hover:to-purple-500/20 border border-blue-200",children:[(0,s.jsx)(m.A,{className:`h-4 w-4 mr-2 ${k?"animate-spin":""}`}),"Refresh"]}),(0,s.jsxs)(n.$,{onClick:R,variant:"outline",size:"sm",disabled:N||g.every(e=>e.read),className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 hover:from-green-500/20 hover:to-emerald-500/20 border-green-300",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),N?"Marking...":"Mark all read"]}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 hover:from-purple-500/20 hover:to-pink-500/20 border-purple-300",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),(0,s.jsx)("div",{className:"space-y-4",children:y?(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,t)=>(0,s.jsx)("div",{className:"gradient-card rounded-xl p-6 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)(i.E,{className:"h-10 w-10 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(i.E,{className:"h-4 w-3/4"}),(0,s.jsx)(i.E,{className:"h-3 w-1/2"})]})]})},t))}):g.length>0?(0,s.jsx)("div",{className:"space-y-4",children:g.map(e=>{let t=E(e.type);return(0,s.jsx)(r.Zp,{className:`gradient-card rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 ${!e.read?"ring-2 ring-blue-500/50 bg-gradient-to-r from-blue-50/80 to-purple-50/80":""}`,onClick:()=>!e.read&&M(e.id),children:(0,s.jsx)(r.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:`p-3 rounded-full shadow-lg ${!e.read?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-blue-500/25":"bg-gradient-to-r from-slate-400 to-slate-500 text-white"}`,children:(0,s.jsx)(t,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-semibold text-slate-800",children:$(e)}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-slate-500 bg-slate-100/50 px-2 py-1 rounded-full",children:(0,v.f)(e.createdAt)}),!e.read&&(0,s.jsx)("div",{className:"h-3 w-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full notification-pulse"})]})]}),"new_post"===e.type&&e.post&&(0,s.jsxs)("p",{className:"text-sm text-slate-600 bg-slate-50/50 p-3 rounded-lg",children:['"',(0,v.E)(e.post.text,80),'"']})]})]})})},e.id)})}):(0,s.jsx)(r.Zp,{className:"gradient-card rounded-xl shadow-lg",children:(0,s.jsxs)(r.Wu,{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:(0,s.jsx)(p.A,{className:"h-8 w-8 text-white"})})}),(0,s.jsx)(r.ZB,{className:"mb-2 text-2xl bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"No notifications"}),(0,s.jsx)(r.BT,{className:"text-lg text-slate-600",children:"You're all caught up! When you have new activity, it'll appear here."})]})})})]})})}):(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(r.Zp,{className:"max-w-2xl mx-auto",children:(0,s.jsx)(r.Wu,{className:"text-center p-8",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Please log in to view your notifications."})})})})}},5726:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var s=a(687),r=a(4780);function n({className:e,...t}){return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...t})}},6578:(e,t,a)=>{Promise.resolve().then(a.bind(a,3555))},6910:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2614).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},7368:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2614).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[447,894,658,185],()=>a(1768));module.exports=s})();